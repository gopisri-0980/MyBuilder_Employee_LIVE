<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>

<style>
    .notecls {
        width: 96%;
        margin-left: 2%;
        font-size: 14px;
        font-family: 'Poppins';
        color: rgb(0 0 0 / 87%);
        font-weight: 600;
    }

    .cuppa-dropdown {
        position: relative;
        width: 100% !important;
        left: -5px !important;
    }

    ::ng-deep .my-class .modal-dialog {
        max-width: 30%;
        width: 30%;

    }



    :root {
        --color-1: #ccd6e4;
        --color-2: #b0bed1;
        --color-3: #dead;
        --color-4: #31a3dd;
        --color-5: #7e96b3;
        --color-6: #1d6fa5;
        --color-7: #3c56;

        --light-100: hsl(220, 13%, 91%);
        --light-200: hsl(214, 28%, 95%);
        --light-300: hsl(220, 14%, 96%);
        --light-400: hsl(220, 60%, 99%);
        --light-400-fade: hsl(220, 60%, 99%, 0.8);

        --accent-blue: #0095f6;
        --accent-red: #ed4956;

        --dark-100: #000;
        --dark-200: #262626;
        --dark-300: #555555;
        --dark-400: #767676;
        --dark-500: #8e8e8e;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        font: 16px/1.3 "Roboto", sans-serif;
        background: linear-gradient(45deg,
                hsl(39, 100%, 60%, 0.4),
                hsl(300, 100%, 60%, 0.3));
    }

    .container {

        display: grid;
        place-content: center;
        max-width: 60rem;
        margin-inline: auto;
    }

    .address-book {
        --row-block: 4rem;
        --list-block: 2.5rem;
        display: flex;
        flex-direction: column;
        --block-size: 33.5rem;
        --inline-size: 17.5rem;
        width: var(--inline-size);
        height: var(--block-size);
        background: var(--light-400);
        overflow: hidden;
        position: relative;
        border-radius: 2.25rem;
        box-shadow: 0 0.25em 0.5em #0003, 0 0.6em 0.96em #0003,
            0 1.4em 1.2em -0.125em #0003;
    }



    .main--header,
    .footer {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #5f5656;
        height: var(--row-block);
        color: #FFF;
    }

    .main--title,
    .footer--title {
        font-size: 1.25rem;
        font-weight: 400;
        color: var(--light-400);
    }

    .navigation::-webkit-scrollbar {
        display: none;
    }

    .navigation {
        display: flex;
        flex-direction: column;
        overflow-y: scroll;
        overflow-x: hidden;
        scroll-snap-type: y proximity;
        scroll-snap-stop: always;
        height: 100%;
        gap: 0.25rem;
        scrollbar-width: none;
        background: #f5ebeb;
        border-inline: 0.25em solid var(--dark-200);
    }

    .navigation__content--flow {
        /* A bit different layout if flex enabled  */
        /* /* display: flex; */
        scroll-snap-align: start;
    }


    .notificationcls {
        background: #FFF;
        width: 96%;
        height: 100px;
        margin-top: 50%;
        margin-left: 2%;
        border-radius: 5px;
        opacity: 0.4;
    }

    .notificationcls1 {
        width: 96%;
        margin-left: 2%;
        position: absolute;
        top: 34%;
        left: 16px;
        color: #FFF;
    }

    .card_notification_list {
        background: #fff;
        border-radius: 2px;
        display: inline-block;
        height: 100px;
        margin: 1rem;
        position: relative;
        width: 96%;
        margin-left: 2%;
        box-shadow: 0 1px 3px rgb(0 0 0 / 12%), 0 1px 2px rgb(0 0 0 / 24%);
    }

    .my__textoverflow {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        width: 200px;
        display: block;
    }
</style>

<section class="content">
    <div class="container-fluid">
        <div class="block-header">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <ul class="breadcrumb breadcrumb-style ">
                        <li class="breadcrumb-item">
                            <h4 class="page-title">Send Notification</h4>
                        </li>
                        <li class="breadcrumb-item bcrumb-1">
                            <a>
                                <i class="fas fa-home" (click)="homeClick()"></i> Company Notifications</a>
                        </li>
                        <!-- <li class="breadcrumb-item bcrumb-2">
                                    <a href="#" onClick="return false;">Company Notifications</a>
                                </li> -->
                        <li class="breadcrumb-item active">Send Notification</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-body">
                <div class="row clearfix">
                    <div class="col-sm-3"></div>
                    <div class="col-sm-6">

                        <div class="form-line">

                            <label class="required">Notification Type:</label>

                            <div class="center">
                                <select style="width:100%" id="notificationTypeID">
                                    <option value="select">--Select Type--</option>
                                    <!-- <option value="All">All</option> -->
                                    <option value="CUSTOMER">Customer</option>
                                    <!-- <option value="NONCUSTOMER">Non-Customer</option> -->
                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-3"></div>
                </div><br>

                <div class="row clearfix">
                    <div class="col-sm-3"></div>

                    <div class="col-sm-6">

                        <div class="form-line">
                            <label id="stateLabel" class="required">Select State:</label>
                            <label id="stateLabel2" style="display: none;">Notification Related to State:</label>
                            <div class="center">
                                <select style="width:100%" id="stateID">
                                    <option value="select">--Select State--</option>
                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-3"></div>

                </div><br>
                <div class="row clearfix" id="projectgrid">
                    <div class="col-sm-3"></div>

                    <div class="col-sm-6">

                        <form [formGroup]="userForm">
                            <div class="form-group">
                                <label style="font-weight: bold;" class="required">Project Name :</label>
                                <angular2-multiselect [data]="project_wise_project" [settings]="singledd8" formControlName="project_wise_form"
                                    (onSelect)="selectedSIDs($event);" (onSelectAll)="onSelectAll($event)"
                                    (onDeSelect)="onItemDeSelect($event)" (onDeSelectAll)="onDeSelectAll($event)"
                                    [(ngModel)]="title6" >
                                    <c-badge>
                                        <ng-template let-item="item">
                                            <label>{{ item.name }}</label>
                                        </ng-template>
                                    </c-badge>
                                    <c-item>
                                        <ng-template let-item="item">
                                            <label>{{ item.name }}</label>
                                        </ng-template>
                                    </c-item>
                                </angular2-multiselect>
                            </div>

                        </form>





                        <!-- <div class="form-line">
                            <label id="stateLabel"  class="required">Select Projects:</label>
                            <div class="center">
                                <select style="width:100%" id="projectID" multiple>
                                
                                </select>
                            </div>
                        </div> -->

                    </div>
                    <div class="col-sm-3"></div>

                </div><br>
                <div class="row clearfix">
                    <div class="col-sm-3"></div>

                    <div class="col-sm-6">

                        <div class="form-line">

                            <label class="required">Select Device:</label>
                            <div class="center">
                                <select style="width:100%" id="deviceID" single>
                                    <option value="select">--Select Device--</option>
                                    <option value="All">All</option>
                                    <option value="Android">Android</option>
                                    <option value="iOS">iOS</option>
                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-3"></div>

                </div><br>
                <div class="row clearfix">
                    <div class="col-sm-3"></div>
                    <div class="input-field col-sm-6">
                        <input type="text" id="title_id" class="form-control" autocomplete="off" maxlength="150">
                        <label for="title_id" style="margin-left: 10px;" class="required">Title:<span
                                style="color:red">*</span></label>
                    </div>
                    <div class="col-sm-3"></div>
                </div><br>
                <div class="row clearfix">
                    <div class="col-sm-3"></div>
                    <div class="input-field col-sm-6">
                        <input type="text" id="notification_id" class="form-control" maxlength="300" autocomplete="off">
                        <label for="notification_id" style="margin-left: 10px;">Notification Text:</label>
                    </div>
                    <div class="col-sm-3"></div>
                </div><br>


                <!-- <div class="row clearfix">
                    <div class="col-sm-3"></div>
                        <div class="input-field col-sm-6">
                            <textarea id="textarea2" class="materialize-textarea" data-length="120"></textarea>
                            <label for="textarea2" style="margin-left: 10px;">Notification Description:</label>
                        </div>
                    <div class="col-sm-3"></div>
                </div> -->


                <div class="row clearfix" style=" width: 50%; margin-left: 25%;">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="card" style="border:0">
                            <div class="header replayheader">
                                <h2>
                                    <strong>Notification Description:</strong>
                                </h2>
                            </div>

                            <p class="notecls"> <span style="color: #f44336;font-weight: 600;">Note :</span> For a
                                better view of Tables and its data, Please add the tables which has
                                borders and also data with shorter table, If longer tables it is suggested to use
                                attachments.
                            </p>

                            <div class="body" id="ckeditorMainDiv">
                                <div id="CKEditiorDiv">
                                    <textarea id="ckeditor">
                            </textarea>
                                </div>
                                <p class="text-danger ckeditorerrormessage" id="ckeditorError">{{ckeditorError}}</p>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="row clearfix">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="header">
                            <!-- <h3><strong>Booking</strong> Form</h3><br> -->
                            <div class="row clearfix">
                                <!-- <div class="col-sm-3"></div> -->
                                <div class="col-sm-3"></div>

                                <div class="col-sm-6">
                                    <form action="#">
                                        <div class="file-field input-field">
                                            <div class="btn">
                                                <i class="fa fa-paperclip" aria-hidden="true" style="color:gray"></i>
                                                <input type="file" id="imgfile"
                                                    accept="image/x-png,image/gif,image/jpeg"
                                                    (change)="handleFileSelect($event)">
                                            </div>
                                            <div class="file-path-wrapper">
                                                <input id="imagefilee" class="file-path validate" type="text"
                                                    placeholder="Upload notification image">
                                            </div>
                                        </div>
                                    </form>

                                    <div class="row clearfix" id="imageLinkField" style="display: none;">
                                        <div class="col-sm-8" style="padding-left: 32px;">
                                            <div class="form-line">
                                                <label style="font-weight: bold;">Please copy the google drive image
                                                    link here:</label>
                                                <textarea style="border-radius: 4px; height: 52px; padding: 5px;"
                                                    maxlength="500" id="driveImageLinkField"
                                                    data-length="120"></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- <img id="myImg" src="#"  style="width:350;height:100px;display:none" /> -->

                                    <div class="image-area" style="display:none;width:200px;height:200px">
                                        <img id="myImg" src="#" style="width:200px;height:200px;display:none" />
                                        <span class="remove-image" href="#" style="display: inline;"
                                            (click)="delete_image()">&#215;</span>
                                        <!-- <img src="https://blog.codepen.io/wp-content/uploads/2012/06/White-Large.png"  alt="Preview"> -->
                                        <!-- <a class="remove-image" href="#" style="display: inline;">&#215;</a> -->
                                    </div>
                                    <div class="col-sm-14">
                                        <form action="#">
                                            <div class="file-field input-field">
                                                <div class="btn">
                                                    <i class="fa fa-paperclip" aria-hidden="true"
                                                        style="color:gray"></i>
                                                    <input type="file" id="files" accept=".pdf,.xlsx,.xls,.docx"
                                                        (change)="handle_FileSelect($event)">
                                                </div>
                                                <div class="file-path-wrapper">
                                                    <input id="filee" class="file-path validate" type="text"
                                                        placeholder="Upload File">
                                                </div>
                                            </div>
                                            <div id="myfilebinding" class="remove-image2" href="#"
                                                (click)="delete_filee()">
                                                &#215;</div>
                                        </form>

                                        <!-- <div class="row clearfix" id="fileLinkField" style="display: none;">
                                        <div class="col-sm-8" style="padding-left: 32px;">
                                          <div class="form-line">
                                          <label style="font-weight: bold;">Please copy the google drive file link here:</label>
                                            <textarea style="border-radius: 4px; height: 52px; padding: 5px;" maxlength="500" id="driveFileLinkField" data-length="120"></textarea>
                                          </div>
                                        </div>
                                    </div> -->
                                        <div class="row clearfix" style="text-align:center">

                                            <div class="col-sm-12" style="font-weight: 600;">(OR)</div>


                                        </div><br>
                                        <div class="row clearfix" id="imglinkiddiv">


                                            <div class="col-sm-12">
                                                <div class="row clearfix">
                                                    <div class="col-sm-12" style="padding-left: 32px;">
                                                        <div class="form-line">
                                                            <label style="font-weight: bold;">Note: Above 10 MB file
                                                                please paste link below:</label>
                                                            <textarea
                                                                style="border-radius: 4px; height: 42px; padding: 5px;"
                                                                maxlength="500" id="driveFileLinkField"
                                                                data-length="120" (blur)="valid()"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>


                                    <!-- The Modal -->
                                    <div class="modal fade" id="imagemodal" tabindex="-1" role="dialog"
                                        aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-body">
                                                    <button type="button" class="close" data-dismiss="modal"><span
                                                            aria-hidden="true">&times;</span><span
                                                            class="sr-only">Close</span></button>
                                                    <img src="#" class="imagepreview" style="width: 100%;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- <div class="col-sm-3"></div> -->
                            </div>
                            <div class="col-sm-3"></div>

                            <div style="text-align:center;">
                                <button type="button" class="btn-hover color-1" (click)="filesubmit()">Send</button>
                                &nbsp;&nbsp;

                                <button type="button" class="btn-hover color-1"
                                    (click)="Previewfun(content3)">Preview</button>

                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

</section>

<ng-template #content3 let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Send Notification : </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-sm-4">
                <div class="container">
                    <article class="address-book">
                        <header class="main--header">
                            <h2 class="title main--title">Company Updates</h2>
                        </header>
                        <nav class="navigation" style="background-image: url(assets/images/notification.jpg);
                        background-size: 100% 100%;">
                            <div class="notificationcls" style="background: #607d8b!important;">

                            </div>
                            <div class="notificationcls1">
                                <small> Ams Apps
                                    {{dateandtime}}</small>
                                <p style="position: relative;
                                top: -29px;" class="my__textoverflow">{{main_notification_title}}</p>
                            </div>
                        </nav>
                        <footer class="footer">
                            <h2 class="title footer--title"></h2>
                        </footer>
                    </article>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="container">
                    <article class="address-book">
                        <header class="main--header">
                            <h2 class="title main--title"><i class="fa fa-bars" style="font-size: 13px;
                                color: #FFF;
                                position: relative;
                                left: -12px;
                                top: -2px;"></i> Company Updates</h2>
                        </header>
                        <nav class="navigation">
                            <div class="card_notification_list">

                                <div class="row">
                                    <div class="col-sm-4">

                                        <img id="myImg_view" src="#"
                                            style="position: relative;top: 7px;width: 96%; margin-left: 2%;width:50px;" />



                                    </div>
                                    <div class="col-sm-8">

                                        <p id="con" style="position: relative;
                                        top:0px;
                                        color: #000;
                                        font-size: 10px;
                                        left: -12px;
                                        font-weight: 600;width: 149px!important;" class="my__textoverflow">
                                            {{main_notification_title}}</p>


                                           


                                        <p style="position: relative;
                                        top: -58px;
                                        color: #000;
                                        font-size: 9px;
                                        left: -12px;
                                        font-weight: 600;
                                        width: 100px!important;" class="my__textoverflow"
                                           [innerHTML]="truncateHTML(main_notification_dec)">
                                        </p>


                                        <small style="color: #000; position: relative;
                                         top: -110px;">
                                            {{dateString}}</small>

                                        <small style="position: absolute;
                                        top: 57px;right: 0;"><i class='fas fa-arrow-right' style='font-size: 15px;
                                                color: red;position: absolute;right: 29px;'></i></small>
                                    </div>
                                </div>



                            </div>

                        </nav>
                        <footer class="footer">
                            <h2 class="title footer--title"></h2>
                        </footer>
                    </article>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="container">
                    <article class="address-book">
                        <header class="main--header">
                            <h2 class="title main--title"> <i class="fa fa-bars" style="font-size: 13px;
                                color: #FFF;
                                position: relative;
                                left: -12px;
                                top: -2px;"></i>Company Updates</h2>
                        </header>
                        <nav class="navigation">

                            <p style="position: relative;
                            top: 0px;
                            color: #000;
                            font-size: 14px;
                            left: 16px;
                            font-weight: 600;" class="my__textoverflow">{{main_notification_title}}</p>


                            <p style="position: relative;
                            top: -44px;
                            color: #000;
                            font-size: 9px;
                            left: 17px;
                            font-weight: 600;
                            width: 171px!important;" class="my__textoverflow"  [innerHTML]="truncateHTML(main_notification_dec)">..
                            </p>


                            <img id="myImg_view1" src="#" style="position: relative;
                                top: -43px;
                                width: 90%;
                                height: 150px;
                                margin-left: 5%;" />


                            <div style="width:100%;text-align: center;">
                                <button type="button" class="btn btn-info" style="    background-color: #e91e63 !important;
                                color: #fff !important;box-shadow: none;
    border-radius: 5px;
    position: relative;
    top: -31px;">VIEW ATTACHMENT</button>
                            </div>
                        </nav>
                        <footer class="footer">
                            <h2 class="title footer--title"></h2>
                        </footer>
                    </article>
                </div>
            </div>
        </div>


    </div>

</ng-template>